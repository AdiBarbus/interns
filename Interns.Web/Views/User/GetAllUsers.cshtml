@model IEnumerable<Interns.Core.Data.User>

@{
    ViewBag.Title = "All Users";
}
<h2>Users</h2>

@using (Html.BeginForm())
{
    <p>
        <span>User Name: @Html.TextBox("searchString")</span>
        <input type="submit" value="Search" />
    </p>
}

<div class="panel panel-default">
    <table class="table table-striped table-condensed table-bordered">
        <tr>
            <th class="text-left">ID</th>
            <th>User Name</th>
            <th>University</th>
            <th class="text-left">Email</th>
            <th class="text-left">Role</th>
            <th class="text-center">Actions</th>
        </tr>
        @foreach (var item in Model)
        {
            <tr>
                <td class="text-left">@item.Id</td>
                <td class="text-left">@item.UserName</td>
                @if (item.University != null)
                {
                    <td>@item.University</td>
                }
                else
                {
                    <td>-</td>
                }
                <td class="text-left">@item.Email</td>
                <td class="text-left">@item.Role.Type</td>
                <td class="text-center">
                    @Html.ActionLink("Edit", "EditUser", new { id = item.Id }, new { @class = "btn btn-sm btn-warning" })  @*, new { @class = "btn btn-default" }*@
                    @Html.ActionLink("Delete", "DeleteUser", new { id = item.Id }, new {@class="btn btn-sm btn-warning"})
                </td>
            </tr>
        }
    </table>
</div>
<div class="text-right">
    @Html.ActionLink("Sort by User Name Descending", "GetAllUsers", new { sortOrder = ViewBag.UserNameSortParm })
</div>
@Html.ActionLink("Add User", "CreateUser", null, new { @class = "btn btn-default" })
